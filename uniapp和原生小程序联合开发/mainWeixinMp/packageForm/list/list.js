(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageForm/list/list"],{4700:function(e,t,n){},"4ed1":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uniEasyinput:function(){return n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(n.bind(null,"f7da"))}},r=function(){var e=this.$createElement,t=(this._self._c,this.filterData.length),n=this.filterData.length;this.$mp.data=Object.assign({},{$root:{g0:t,g1:n}})},o=[]},6102:function(e,t,n){"use strict";n.r(t);var i=n("fdb5"),r=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=r.a},"84b5":function(e,t,n){"use strict";n.r(t);var i=n("4ed1"),r=n("6102");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("fd5c0");var s=n("f0c5"),a=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"5aebb9fc",null,!1,i["a"],void 0);t["default"]=a.exports},bb8b:function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("895d");i(n("66fd"));var r=i(n("84b5"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},fd5c0:function(e,t,n){"use strict";var i=n("4700"),r=n.n(i);r.a},fdb5:function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("2eee")),o=i(n("c973")),s={components:{NoData:function(){n.e("components/NoData").then(function(){return resolve(n("d1f5"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isLogin:!1,phoneNumber:"",defaultHouseResourceId:"",applyCenterGridList:[{text:"访客通行",icon:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/index/icon-visitor.png",index:0},{text:"报事报修",icon:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/index/icon-repair.png",index:1},{text:"装修申请",icon:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/index/bianminshangcheng_56x56.png",index:2}],searchText:"",isInSearch:!1,timeId:null,customerFormList:[],triggered:!0,scrollTop:0,old:{scrollTop:0},page:1,pageSize:10,pages:1,isNewRepair:!1,enableHouseRepair:!1,enableAnonymousRepair:!1}},computed:{filterData:function(){var e=this;return this.searchText?(this.customerFormList||[]).filter((function(t){return-1!==t.typeName.indexOf(e.searchText)})):(this.customerFormList||[]).filter((function(e){return!0}))},filterGridList:function(){var e=this;return this.searchText?(this.applyCenterGridList||[]).filter((function(t){return-1!==t.text.indexOf(e.searchText)})):(this.applyCenterGridList||[]).filter((function(e){return!0}))}},onLoad:function(e){this.isLogin="true"==e.isLogin,this.phoneNumber=e.phoneNumber,this.defaultHouseResourceId=e.defaultHouseResourceId,this.isNewRepair="true"==e.isNewRepair,this.enableHouseRepair="true"==e.enableHouseRepair,this.enableAnonymousRepair="true"==e.enableAnonymousRepair},onShow:function(){this.getList()},methods:{getList:function(e){var t=this;this.$httpWorkflow.get("/approval_custom_type/list",{customApprovalPermissionType:2}).then((function(e){if(e&&e.success){var n=e.result;t.customerFormList=n}else t.customerFormList=[]})).catch((function(e){console.log(e)}))},onSearchChange:function(){},onBlur:function(){var e=this;this.customerFormList=[],this.searchText?(this.isInSearch=!0,this.getList(),setTimeout((function(){e.isInSearch=!1}),1e3)):this.getList()},onIconClick:function(){this.isInSearch||this.getList()},scrolltolower:function(){this.getList()},onRefresh:function(){var e=this;this.triggered=!0,setTimeout((function(){e.triggered=!1,e.customerFormList=[],e.getList()}),1e3)},openAddNewApplyPage:function(t){e.navigateTo({url:"/packageForm/new/new?id=".concat(t.id)})},onApplyGridItemClick:function(t){var n=this;return(0,o.default)(r.default.mark((function i(){var o,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:i.t0=t,i.next=0===i.t0?3:1===i.t0?5:2===i.t0?15:17;break;case 3:return n.checkHasRoom()&&e.navigateTo({url:"/packageVisitor/visitor/add/add"}),i.abrupt("break",19);case 5:if(!n.isNewRepair){i.next=13;break}if(o="/packageRepair/flowRepair/new/new?enableHouseRepair=".concat(n.enableHouseRepair,"&enableAnonymousRepair=").concat(n.enableAnonymousRepair),n.enableAnonymousRepair){i.next=10;break}if(n.checkHasRoom()){i.next=10;break}return i.abrupt("break",19);case 10:e.navigateTo({url:o}),i.next=14;break;case 13:e.navigateTo({url:"/packageRepair/repair/new/new"});case 14:return i.abrupt("break",19);case 15:return n.checkIsLogin()&&(s=e.getStorageSync(n.$config.storageKeys.user),e.navigateTo({url:"/packageDecoration/history/history?userId="+s.userId})),i.abrupt("break",19);case 17:return e.showToast({icon:"none",title:"敬请期待，稍后上线"}),i.abrupt("break",19);case 19:case"end":return i.stop()}}),i)})))()},checkIsLogin:function(){return console.log(this.isLogin),!!this.isLogin||(e.showToast({icon:"none",title:"还没登录"}),!1)},checkBindTelephone:function(){if(this.checkIsLogin()){if(this.phoneNumber)return!0;e.showModal({title:"需要完善您的个人信息",confirmText:"去完善",success:function(t){t.confirm&&e.navigateTo({url:"/pages/login/check/check"})}})}return!1},checkHasRoom:function(){if(this.checkBindTelephone()){if(this.defaultHouseResourceId)return!0;e.showModal({title:"还没有添加任何房间",confirmText:"去添加",success:function(t){t.confirm&&e.navigateTo({url:"/pages/me/room/room"})}})}return!1}}};t.default=s}).call(this,n("543d")["default"])}},[["bb8b","common/runtime","common/vendor"]]]);