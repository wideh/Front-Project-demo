(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageNotice/notice/list/list"],{"65b6":function(n,e,t){"use strict";t.r(e);var o=t("eb3e"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a},"7fd2":function(n,e,t){"use strict";var o=t("8582"),i=t.n(o);i.a},8582:function(n,e,t){},"98a1":function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}));var o={sudaLoading:function(){return t.e("components/suda-loading/suda-loading").then(t.bind(null,"09dd"))},uniIcons:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(t.bind(null,"cff5"))},uniLoadMore:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(t.bind(null,"d3b6"))},pageEmpty:function(){return t.e("components/page-empty/page-empty").then(t.bind(null,"1068"))}},i=function(){var n=this,e=n.$createElement,t=(n._self._c,n.isLoading?null:n.notices.length),o=!n.isLoading&&t>0?n.__map(n.notices,(function(e,t){var o=n.__get_orig(e),i=n.displayTime(e.publishedOn);return{$orig:o,m0:i}})):null;n.$mp.data=Object.assign({},{$root:{g0:t,l0:o}})},a=[]},a2c3:function(n,e,t){"use strict";t.r(e);var o=t("98a1"),i=t("65b6");for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("7fd2");var u=t("f0c5"),c=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"af3f0fa8",null,!1,o["a"],void 0);e["default"]=c.exports},d671:function(n,e,t){"use strict";(function(n,e){var o=t("4ea4");t("895d");o(t("66fd"));var i=o(t("a2c3"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},eb3e:function(n,e,t){"use strict";(function(n){var o=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(t("2eee")),a=o(t("c973")),u={components:{uniIcons:function(){Promise.all([t.e("common/vendor"),t.e("node-modules/@dcloudio/uni-ui/lib/uni-icons/uni-icons")]).then(function(){return resolve(t("1533"))}.bind(null,t)).catch(t.oe)},uniLoadMore:function(){t.e("node-modules/@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(t("7e70"))}.bind(null,t)).catch(t.oe)},pageEmpty:function(){t.e("components/page-empty/page-empty").then(function(){return resolve(t("1068"))}.bind(null,t)).catch(t.oe)},sudaLoading:function(){t.e("components/suda-loading/suda-loading").then(function(){return resolve(t("09dd"))}.bind(null,t)).catch(t.oe)},customFooter:function(){t.e("components/custom-footer/custom-footer").then(function(){return resolve(t("7d39"))}.bind(null,t)).catch(t.oe)}},data:function(){return{pageIndex:1,pageSize:10,loadingStatus:"",hasMore:!0,communityId:"",isLoading:!0,notices:[],footerData:null}},onLoad:function(){var e=n.getStorageSync(this.$config.storageKeys.community);e&&(this.communityId=e.id),this.getList()},onReachBottom:function(){this.loadMore()},onShow:function(){this.getFooterData()},methods:{getFooterData:function(){var n=this;return(0,a.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.$footerConfig.get();case 2:t=e.sent,n.footerData=t;case 4:case"end":return e.stop()}}),e)})))()},getList:function(){var n=this;n.$http.get("/api/v2.0/wechat/announcements/me",{regionid:n.communityId,page:n.pageIndex,pageSize:n.pageSize}).then((function(e){e.data&&e.data.length>0?(n.notices=n.notices.concat(e.data),n.loadingStatus=""):(n.hasMore=!1,n.loadingStatus="noMore"),n.isLoading=!1})).catch((function(e){n.isLoading=!1,console.log(e)}))},loadMore:function(){this.hasMore&&(this.pageIndex+=1,this.loadingStatus="loading",this.getList())},goToDetail:function(e){this.notices=this.notices.map((function(n){return n.id==e&&(n.haveRead=!0),n})),n.navigateTo({url:"../item/item?id="+e})},displayTime:function(n){return this.$tool.date.format(n,"yyyy/MM/dd hh:mm")}}};e.default=u}).call(this,t("543d")["default"])}},[["d671","common/runtime","common/vendor"]]]);