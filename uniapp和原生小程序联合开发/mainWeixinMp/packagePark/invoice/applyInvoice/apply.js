require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packagePark/invoice/applyInvoice/apply"],{"0325":function(e,n,t){},3464:function(e,n,t){"use strict";t.r(n);var a=t("9377"),o=t("cd20");for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("aad7");var r=t("f0c5"),c=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"a66cc2b0",null,!1,a["a"],void 0);n["default"]=c.exports},"481c":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t("a2b4"),o={name:"InvoiceApply",components:{FieldItem:function(){t.e("packagePark/components/field-item/field-item").then(function(){return resolve(t("a0fc"))}.bind(null,t)).catch(t.oe)},SudaPopup:function(){t.e("components/suda-popup/suda-popup").then(function(){return resolve(t("7271"))}.bind(null,t)).catch(t.oe)}},onLoad:function(n){var t=this;console.log("options: ",n);var a=n.selectedArr&&JSON.parse(n.selectedArr);if(a){var o=[];a.forEach((function(e){t.money+=e.amountPaid,o.push(e.tempParkBillPayId)})),this.tempParkBillPayIdList=o}e.removeStorageSync("invoice-more-info"),e.removeStorageSync("invoice-auto-fill"),this.getDefaultData()},onShow:function(){var n=e.getStorageSync("invoice-more-info");n&&(this.moreInfo=n);var t=e.getStorageSync("invoice-auto-fill");t&&(this.invoiceHead=t.invoiceTitle,this.taxNo=t.taxNo,this.sendEmail=t.sendEmail,this.moreInfo={address:t.address,phone:t.telephone,bankName:t.bankName,bankCardNo:t.bankCardNo})},data:function(){return{invoiceHead:"",taxNo:"",invoiceContent:"运输服务",remark:"",sendEmail:"",money:0,tempParkBillPayIdList:[],moreInfo:{address:"",phone:"",bankName:"",bankCardNo:""},fillEmailVisible:!1,resultShow:!1,currentHeadType:"personal",applyBottomShow:!1}},computed:{headPlaceholer:function(){return"personal"==this.currentHeadType?"个人发票抬头(必填)":"company"==this.currentHeadType?"单位发票抬头(必填)":void 0},taxPlaceholer:function(){return"personal"==this.currentHeadType?"纳税人识别号":"company"==this.currentHeadType?"纳税人识别号(必填)":void 0},moreInfoText:function(){var e=this.moreInfo,n=e.address,t=e.phone,a=e.bankName,o=e.bankCardNo,i=[n,t,a,o];return i=i.filter((function(e){return e})).join(","),i}},methods:{getDefaultData:function(){},changeHeadType:function(n){this.currentHeadType=n,e.removeStorageSync("invoice-auto-fill"),this.resetField(),this.getDefaultData()},resetField:function(){this.invoiceHead="",this.taxNo="",this.remark="",this.sendEmail="",this.moreInfo={address:"",phone:"",bankName:"",bankCardNo:""}},handleClickHeader:function(){console.log(123),e.navigateTo({url:"/packagePark/invoice/invoiceHead/invoiceHead?type=select&invoiceType=".concat("personal"==this.currentHeadType?1:2)})},gotoMoreInfo:function(){e.setStorageSync("invoice-more-info",this.moreInfo),e.navigateTo({url:"/packagePark/invoice/moreInfo/moreInfo?type=2"})},handleApply:function(){console.log("this.remark: ",this.remark);var e=this.tip;if("personal"==this.currentHeadType){if((0,a.validatenull)(this.invoiceHead))return e("请选择发票抬头");if(this.invoiceHead.length>30)return e("发票抬头长度不大于30个字符");if(!(0,a.validateEmail)(this.sendEmail))return e("请输入正确的电子邮件")}else if("company"==this.currentHeadType){if((0,a.validatenull)(this.invoiceHead))return e("请选择发票抬头");if(this.invoiceHead.length>30)return e("发票抬头长度不大于30个字符");if((0,a.validatenull)(this.taxNo))return e("请输入税号");if(this.taxNo.length>18)return e("税号长度不大于18个字符");if(!(0,a.validateEmail)(this.sendEmail))return e("请输入正确的电子邮件")}this.$refs.popup.open()},submit:function(){var n=this.moreInfo;n.address,n.phone,n.bankName,n.bankCardNo;e.navigateTo({url:"./result"})},handleCloseBottom:function(){this.$refs.popup.close()},tip:function(n){e.showToast({icon:"none",title:n})}}};n.default=o}).call(this,t("543d")["default"])},9377:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a}));var a={sudaPopup:function(){return t.e("components/suda-popup/suda-popup").then(t.bind(null,"7271"))}},o=function(){var e=this.$createElement,n=(this._self._c,(this.money/100).toFixed(2));this.$mp.data=Object.assign({},{$root:{g0:n}})},i=[]},9820:function(e,n,t){"use strict";(function(e,n){var a=t("4ea4");t("895d");a(t("66fd"));var o=a(t("3464"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},aad7:function(e,n,t){"use strict";var a=t("0325"),o=t.n(a);o.a},cd20:function(e,n,t){"use strict";t.r(n);var a=t("481c"),o=t.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a}},[["9820","common/runtime","common/vendor","packagePark/common/vendor"]]]);