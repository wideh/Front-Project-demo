require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageRepair/repair/comment/comment"],{2356:function(t,e,n){"use strict";var o=n("90c1"),c=n.n(o);c.a},"481a":function(t,e,n){"use strict";n.r(e);var o=n("bcf7"),c=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=c.a},"8d08":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("895d");o(n("66fd"));var c=o(n("bead"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(c.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"90c1":function(t,e,n){},ab3c:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},c=[]},bcf7:function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=o(n("2eee")),a=o(n("c973")),s=(o(n("7504")),{components:{uniTag:function(){n.e("node-modules/@dcloudio/uni-ui/lib/uni-tag/uni-tag").then(function(){return resolve(n("f7b5"))}.bind(null,n)).catch(n.oe)},customFooter:function(){n.e("components/custom-footer/custom-footer").then(function(){return resolve(n("7d39"))}.bind(null,n)).catch(n.oe)}},data:function(){return{levels:[{level:0,url:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/good.png",url1:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/good-1.png",text:"好评"},{level:1,url:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/normal.png",url1:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/normal-1.png",text:"中评"},{level:2,url:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/bad.png",url1:"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/door/bad-1.png",text:"差评"}],level:"0",textareaMaxLength:200,content:"",textareaWordCount:0,comments:[],workOrderId:"34",footerData:null}},onShow:function(){this.getEnum(),this.getFooterData()},onLoad:function(t){console.log(t),t&&t.id&&(this.workOrderId=t.id)},methods:{getEnum:function(){var t=this;t.$http.get("/api/v2.0/weChat/enum-evaluates").then((function(e){console.log(e);var n=[];e.map((function(t,e){n.push(Object.assign({},t,{isSelected:!1}))})),console.log(n),t.comments=n})).catch((function(t){console.log(t)}))},descInput:function(){this.textareaWordCount=this.content.length},setInverted:function(t){console.log(t),t.isSelected=!t.isSelected},submit:function(){for(var e=this,n=[],o=0;o<e.comments.length;o++)e.comments[o].isSelected&&n.push(e.comments[o].id);var c={id:e.workOrderId,grade:e.level,commentContent:e.content,evaluates:n};console.log(c),e.$http.request("/api/v2.0/weChat/repairs/".concat(e.workOrderId,"/comment"),c,{headers:{"Content-Type":"application/json"},method:"PUT"}).then((function(e){console.log(e),null==e&&t.navigateBack()})).catch((function(e){console.log(e),t.showToast({title:"评论失败！",icon:"none"})}))},bindClick:function(t){this.level=t.level},getFooterData:function(){var t=this;return(0,a.default)(c.default.mark((function e(){var n;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$footerConfig.get();case 2:n=e.sent,t.footerData=n;case 4:case"end":return e.stop()}}),e)})))()}}});e.default=s}).call(this,n("543d")["default"])},bead:function(t,e,n){"use strict";n.r(e);var o=n("ab3c"),c=n("481a");for(var a in c)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(a);n("2356");var s=n("f0c5"),i=Object(s["a"])(c["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=i.exports}},[["8d08","common/runtime","common/vendor"]]]);