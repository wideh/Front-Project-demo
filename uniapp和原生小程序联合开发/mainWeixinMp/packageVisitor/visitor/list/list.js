(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageVisitor/visitor/list/list"],{"1bd4":function(t,e,n){"use strict";var i=n("9b4b"),o=n.n(i);o.a},"697e":function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("895d");i(n("66fd"));var o=i(n("be2c"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},7038:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2eee")),a=i(n("448a")),s=i(n("c973")),r={components:{sudaVisitorCard:function(){n.e("packageVisitor/components/suda-visitor-card/suda-visitor-card").then(function(){return resolve(n("ae39"))}.bind(null,n)).catch(n.oe)},pageEmpty:function(){n.e("components/page-empty/page-empty").then(function(){return resolve(n("1068"))}.bind(null,n)).catch(n.oe)},customFooter:function(){n.e("components/custom-footer/custom-footer").then(function(){return resolve(n("7d39"))}.bind(null,n)).catch(n.oe)}},data:function(){return{customerId:"",list:[],footerData:null,statusList:[],scrollTop:0,old:{scrollTop:0},triggered:!0,page:1,pageSize:10,pages:1}},onLoad:function(e){var n=this;n.customerId=e.customerId;var i=t.getStorageSync(this.$config.storageKeys.openId);n.$httpVisitor.get("/visitation/invitation_list",{page:1,pageSize:10,openId:i}).then((function(t){if(t&&t.success){var e=t.result;n.page=e.current,n.pageSize=e.size,n.pages=e.pages,t.result&&t.result.records&&t.result.records.length>0&&(n.list=t.result.records)}})).catch((function(t){console.log(t)}))},onShow:function(){this.getFooterData()},methods:{onCardClick:function(e){t.navigateTo({url:"../item/item?visitorId="+e})},getFooterData:function(){var t=this;return(0,s.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$footerConfig.get();case 2:n=e.sent,t.footerData=n;case 4:case"end":return e.stop()}}),e)})))()},scrolltolower:function(){this.page<this.pages&&(this.page+=1,this.getInvitationList({page:this.page,pageSize:this.pageSize}))},onRefresh:function(){var t=this;this.triggered=!0,setTimeout((function(){t.triggered=!1,t.list=[],t.getInvitationList({page:1,pageSize:10})}),1e3)},getInvitationList:function(e){var n=this,i=t.getStorageSync(this.$config.storageKeys.openId);n.$httpVisitor.get("/visitation/invitation_list",{openId:i,page:e.page,pageSize:e.pageSize}).then((function(t){if(t&&t.success){var e=t.result;n.page=e.current,n.pageSize=e.size,n.pages=e.pages,n.list.length<e.total?n.list=[].concat((0,a.default)(n.list),(0,a.default)(e.records)):n.list=e.records}})).catch((function(t){console.log(t)}))}}};e.default=r}).call(this,n("543d")["default"])},"775b":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={pageEmpty:function(){return n.e("components/page-empty/page-empty").then(n.bind(null,"1068"))}},o=function(){var t=this.$createElement,e=(this._self._c,this.list&&this.list.length>0),n=this.list&&this.list.length>0;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n}})},a=[]},"8ab5":function(t,e,n){"use strict";n.r(e);var i=n("7038"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"9b4b":function(t,e,n){},be2c:function(t,e,n){"use strict";n.r(e);var i=n("775b"),o=n("8ab5");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("1bd4");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports}},[["697e","common/runtime","common/vendor"]]]);