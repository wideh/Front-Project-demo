(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageZS/house-resource"],{"238d":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("895d");i(n("66fd"));var o=i(n("6890"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},2997:function(e,t,n){"use strict";var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("2eee")),a=i(n("448a")),r=i(n("9523")),s=i(n("c973")),c=i(n("0b6f"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={components:{DropDownMenu:function(){n.e("packageZS/components/dropdown-menu").then(function(){return resolve(n("be76"))}.bind(null,n)).catch(n.oe)},PositionSelect:function(){n.e("packageZS/components/position-select").then(function(){return resolve(n("d874"))}.bind(null,n)).catch(n.oe)},AreaSelect:function(){n.e("packageZS/components/area-select").then(function(){return resolve(n("5161"))}.bind(null,n)).catch(n.oe)},TagSelect:function(){n.e("packageZS/components/tag-select").then(function(){return resolve(n("52a1"))}.bind(null,n)).catch(n.oe)},ResourceList:function(){n.e("packageZS/components/resource-list").then(function(){return resolve(n("b00c"))}.bind(null,n)).catch(n.oe)},RegionAreaList:function(){n.e("packageZS/components/region-area-list").then(function(){return resolve(n("c4d6"))}.bind(null,n)).catch(n.oe)},RegionTypeSelect:function(){n.e("packageZS/components/region-type-select").then(function(){return resolve(n("7a9e"))}.bind(null,n)).catch(n.oe)},RegionAreaInput:function(){n.e("packageZS/components/region-area-input").then(function(){return resolve(n("a1d9"))}.bind(null,n)).catch(n.oe)},sudaLoading:function(){n.e("components/suda-loading/suda-loading").then(function(){return resolve(n("09dd"))}.bind(null,n)).catch(n.oe)}},data:function(){return{statusList:[{title:"房源",key:1},{title:"楼盘/园区",key:2}],active:1,type:0,selectType:0,list:[],regionList:[],areArrangeList:[],tagList:[],options:[{header:"位置",custom:!0},{header:"面积",custom:!0},{header:"筛选",custom:!0}],optionsRegion:[{header:"类型",custom:!0},{header:"面积",custom:!0}],pageInfo:{current:1,size:10,total:1},params:{},loading:!0,regionAreaList:[],regionTypeList:[],regionParmas:{}}},onLoad:function(){var e=(0,s.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.default.getByService();case 2:t=e.sent,t.success&&t.token&&this.fetchList(!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),onPullDownRefresh:function(){this.resetPageInfo(),this.fetchList()},onReachBottom:function(){this.fetchList(!0)},methods:{navChange:function(e){this.active=e,2==e&&(this.regionParmas={},this.fetchRegionAreaList())},onHeaderSelect:function(e){this.type=e.headerIndex,0==e.headerIndex?this.fetchRegion():1==e.headerIndex?this.fetchArea():2==e.headerIndex&&this.fetchTag()},onHeaderSelectArea:function(e){this.selectType=e.headerIndex,0==e.headerIndex&&this.fetchRegionType()},onItemSelect:function(e){console.log(e)},handlePositionOk:function(e){console.log("item: ",e),this.params=e,this.changeStatus("position")},handleAreaOk:function(e){console.log("item: ",e),this.params=e,this.changeStatus("area")},handleTagOk:function(e,t){t?(this.params=e,this.changeStatus("tag")):this.$refs.dropDown.close()},changeStatus:function(e){var t=[this.$refs.positionSelect,this.$refs.areaSelect,this.$refs.tagSelect];["position","area","tag"].forEach((function(n,i){n!=e&&t[i].reset()})),this.resetPageInfo(),this.fetchList(),this.$refs.dropDown.close()},handleRegionTypeOk:function(e,t){t?(this.regionParmas=e,this.changeRegionStatus("regionType")):this.$refs.dropDownRegion.close()},handleRegionAreaOk:function(e){this.regionParmas=e,this.changeRegionStatus("regionArea")},changeRegionStatus:function(e){var t=[this.$refs.regionTypeSelect,this.$refs.regionAreaInput];["regionType","regionArea"].forEach((function(n,i){n!=e&&t[i].reset()})),this.fetchRegionAreaList(),this.$refs.dropDownRegion.close()},resetPageInfo:function(){this.pageInfo={current:1,size:10,total:1}},fetchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1==this.active){var n=this.pageInfo,i=(n.size,n.current),o=n.total;if(t){if(i>=o)return;this.pageInfo.current++}this.$httpPmsBase.request("/investmentWeCat/page",f({},this.params),{method:"POST",params:{page:this.pageInfo.current,size:this.pageInfo.size}}).then((function(n){n&&n.content&&(e.list=t?e.list.concat(n.content.map((function(e){return f(f({},e),{},{image:JSON.parse(e.images||'[""]')[0]})}))):n.content.map((function(e){return f(f({},e),{},{image:JSON.parse(e.images||'[""]')[0]})})),e.pageInfo.total=n.totalElements)})).finally((function(){e.loading=!1}))}},fetchRegionAreaList:function(){var e=this;2==this.active&&(console.log("触发请求",this.regionParmas),this.$httpPmsBase.post("/investmentWeCat/region/list",f({dataCategoryIds:[],minArea:null,maxArea:null},this.regionParmas)).then((function(t){t&&(e.regionAreaList=t)})).finally((function(){})))},fetchRegion:function(){var e=this;this.$http.request("/api/v1.0/app/CommonApi/regions").then((function(t){t&&(e.regionList=t)}))},fetchArea:function(){},fetchTag:function(){var e=this;this.$httpPmsBase.request("/investmentTag/getValidTag").then((function(t){t&&(e.tagList=t)}))},fetchRegionType:function(){var e=this;this.regionTypeList=[{id:-1,name:"不限"}],this.$http.post("/api/v1.0/BasicInformation/region-category/list",{disable:!1}).then((function(t){t&&(e.regionTypeList=[{id:-1,name:"不限"}].concat((0,a.default)(t)))}))}},mounted:function(){this.fetchList(),this.fetchRegion(),this.fetchArea(),this.fetchTag(),this.fetchRegionType()}};t.default=h},"4f78":function(e,t,n){"use strict";var i=n("8078"),o=n.n(i);o.a},6890:function(e,t,n){"use strict";n.r(t);var i=n("d148"),o=n("891f");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("4f78");var r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"4864091f",null,!1,i["a"],void 0);t["default"]=s.exports},8078:function(e,t,n){},"891f":function(e,t,n){"use strict";n.r(t);var i=n("2997"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},d148:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={sudaLoading:function(){return n.e("components/suda-loading/suda-loading").then(n.bind(null,"09dd"))}},o=function(){var e=this.$createElement,t=(this._self._c,!this.loading&&0==this.list.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},a=[]}},[["238d","common/runtime","common/vendor"]]]);