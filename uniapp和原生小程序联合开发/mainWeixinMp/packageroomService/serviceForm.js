require('./common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageroomService/serviceForm"],{"20d5":function(e,t,n){},"401e":function(e,t,n){"use strict";n.r(t);var o=n("b173"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},"6a67":function(e,t,n){"use strict";var o=n("20d5"),r=n.n(o);r.a},"8fa5":function(e,t,n){"use strict";n.r(t);var o=n("b5e9"),r=n("401e");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("6a67");var a=n("f0c5"),s=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=s.exports},b173:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("7e1c"),r={namespace:"serviceForm",data:function(){return{category:null,categoryObj:{0:"我要买房",1:"我要租房",2:"我要卖房",3:"有房出租",4:"找装修"},regionId:null,message:"",contactPerson:"",phone:""}},methods:{onLoad:function(t){var n=this;this.category=t.category,e.setNavigationBarTitle({title:this.categoryObj[t.category]});var o=e.getStorageSync(this.$config.storageKeys.community);this.regionId=o.id,this.$httpCommon.get("/wy/api/v2.0/weChat/user-resources/me").then((function(e){if(e&&e.success){var t=e.result;t&&t.length>0&&(n.contactPerson=t[0].customerName,n.phone=t[0].customerPhone)}}))},error:function(t){e.hideLoading(),e.showToast({icon:"none",title:t||"系统繁忙，请稍候重试",duration:2500})},validate:function(){if(!this.message)return this.error("请输入需求描述"),!1;if(!this.contactPerson)return this.error("请输入联系人"),!1;if(!this.phone)return this.error("请输入电话"),!1;return!!/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(this.phone)||(this.error("请输入正确的电话"),!1)},submit:function(){var t=this;if(this.validate()){e.showLoading({mask:!0});var n={message:this.message,contactPerson:this.contactPerson,phone:this.phone,regionId:this.regionId,category:this.category};this.$httpCommon.post("".concat(o.PRE_FIX,"/houseServices/add"),n).then((function(n){e.hideLoading(),n&&n.success?e.showModal({content:"已收到需求，我们会尽快联系您",confirmText:"知道了",showCancel:!1,success:function(t){e.navigateBack({delta:1})}}):t.error(n&&n.message?n.message:"请求失败，请稍后重试！")})).catch((function(t){e.hideLoading(),e.showToast({title:"请求失败，请重试",duration:1500,icon:"none"})}))}}}};t.default=r}).call(this,n("543d")["default"])},b5e9:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement,t=(this._self._c,this.message.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},r=[]},ed6f:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("895d");o(n("66fd"));var r=o(n("8fa5"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["ed6f","common/runtime","common/vendor","packageroomService/common/vendor"]]]);