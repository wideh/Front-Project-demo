(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/activity"],{"05b9":function(t,e,n){"use strict";n.r(e);var o=n("6771"),i=n("50ef");for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("54b3");var c=n("f0c5"),a=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports},2781:function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2eee")),r=o(n("9523")),c=o(n("c973"));function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={components:{sudaActivityCard:function(){n.e("components/suda-activity-card/suda-activity-card").then(function(){return resolve(n("36a6"))}.bind(null,n)).catch(n.oe)},pageEmpty:function(){n.e("components/page-empty/page-empty").then(function(){return resolve(n("1068"))}.bind(null,n)).catch(n.oe)},sudaLoading:function(){n.e("components/suda-loading/suda-loading").then(function(){return resolve(n("09dd"))}.bind(null,n)).catch(n.oe)},customFooter:function(){n.e("components/custom-footer/custom-footer").then(function(){return resolve(n("7d39"))}.bind(null,n)).catch(n.oe)}},data:function(){return{communitiy:null,isLoading:!1,list:[],footerData:null}},onShow:function(){var e=(0,c.default)(i.default.mark((function e(){var n,o,r,c,a=this;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this,n.isLoading=!0,e.prev=2,o=t.getStorageSync(n.$config.storageKeys.token),o){e.next=9;break}return e.next=7,n.$token.getByService();case 7:r=e.sent,r.success&&r.token&&(o=r.token);case 9:if(c=t.getStorageSync(n.$config.storageKeys.community),c||!o){e.next=14;break}return e.next=13,n.$basicInfo.setCommunity(o);case 13:c=t.getStorageSync(n.$config.storageKeys.community);case 14:n.community=c,n.community?n.$httpCommon.get("/nova-customer-service/v1/".concat(n.$config.tenantId,"/customer/activity/page"),{regionId:n.community.id,current:0,size:9999,isMini:1}).then((function(e){var o=e.result.records,i=[],r=o.map((function(t){return u(u({},t),{},{coverImage:t.imgUrl,registrationEndTime:t.registerEndTime,registrationStartTime:t.registerStartTime,joinTotal:t.registerNum,haveIJoined:t.isRegister,address:t.activityLocation,receiverType:t.receiverType})}));i=t.getStorageSync(a.$config.storageKeys.user)&&t.getStorageSync(a.$config.storageKeys.user).customerId?r:r.filter((function(t){var e=t.receiverType.split(","),n=e.findIndex((function(t){return"1"==t}));return-1!==n})),n.list=i,n.isLoading=!1})).catch((function(t){console.log(t),n.isLoading=!1})):(n.isLoading=!1,t.showModal({title:"未设置小区",content:"请设置您所在的小区",confirmText:"前往设置",success:function(e){e.confirm&&t.navigateTo({url:"/pages/position/position?targetKey="+n.$config.positionKeys.community+"&returnUrl=/pages/activity/activity"})}})),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](2),console.log("初始进入社区活动获取数据错误>>",e.t0),n.isLoading=!1;case 22:n.getFooterData();case 23:case"end":return e.stop()}}),e,this,[[2,18]])})));return function(){return e.apply(this,arguments)}}(),methods:{getFooterData:function(){var t=this;return(0,c.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$footerConfig.get();case 2:n=e.sent,t.footerData=n;case 4:case"end":return e.stop()}}),e)})))()},goToItem:function(e){console.log(e),e&&t.navigateTo({url:"item/item?id="+e})}}};e.default=s}).call(this,n("543d")["default"])},"50ef":function(t,e,n){"use strict";n.r(e);var o=n("2781"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=i.a},"54b3":function(t,e,n){"use strict";var o=n("f3ec"),i=n.n(o);i.a},6771:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={sudaLoading:function(){return n.e("components/suda-loading/suda-loading").then(n.bind(null,"09dd"))},sudaActivityCard:function(){return n.e("components/suda-activity-card/suda-activity-card").then(n.bind(null,"36a6"))},pageEmpty:function(){return n.e("components/page-empty/page-empty").then(n.bind(null,"1068"))}},i=function(){var t=this.$createElement,e=(this._self._c,this.isLoading?null:this.list&&this.list.length>0),n=this.list&&this.list.length>0;this.$mp.data=Object.assign({},{$root:{g0:e,g1:n}})},r=[]},b435:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("895d");o(n("66fd"));var i=o(n("05b9"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},f3ec:function(t,e,n){}},[["b435","common/runtime","common/vendor"]]]);