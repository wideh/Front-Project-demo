(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/history-pay/request_invoices/request_invoices"],{"2a1a":function(e,t,n){},"467c":function(e,t,n){"use strict";var r=n("2a1a"),a=n.n(r);a.a},"609c":function(e,t,n){"use strict";n.r(t);var r=n("837e"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},"837e":function(e,t,n){"use strict";(function(e){var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("2eee")),i=r(n("c973")),o={data:function(){return{orderNumber:"",isCompany:!1,invoiceType:0,companyName:"",taxNo:"",submitBtnDisabled:!1,orderInfo:{}}},onLoad:function(e){this.orderNumber=e.orderNumber,this.getDetail()},methods:{getDetail:function(){var e=this;this.$httpOrder.get("/p/myOrder/orderDetail?orderNumber="+this.orderNumber).then((function(t){e.orderInfo=t}))},onChangeInvoiceType:function(e){this.invoiceType=e,this.isCompany=1==e},validate:function(){var t=this;return(0,i.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,r.errorText="",!r.isCompany){n.next=9;break}if(r.companyName){n.next=6;break}return e.showToast({title:"公司名称不能为空",icon:"none"}),n.abrupt("return",!1);case 6:if(r.taxNo){n.next=9;break}return e.showToast({title:"税务识别号不能为空",icon:"none"}),n.abrupt("return",!1);case 9:return n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)})))()},check:function(){var t=this;return(0,i.default)(a.default.mark((function n(){var r,i;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.next=3,r.validate();case 3:if(!n.sent){n.next=8;break}r.submitBtnDisabled=!0,e.showLoading({title:"开票申请中",mask:!0}),i={orderNumber:t.orderNumber,type:0,contentType:0,titleType:t.invoiceType,title:t.companyName,taxNo:t.taxNo,amount:t.orderInfo.actualTotal},t.$httpOrder.post("/p/invoice",i).then((function(t){e.hideLoading(),r.submitBtnDisabled=!1,e.redirectTo({url:"../request_success/request_success"})})).catch((function(t){e.hideLoading(),r.submitBtnDisabled=!1,console.log(t),r.errorText=t.data,e.showToast({title:"申请开票失败",icon:"none"})}));case 8:case"end":return n.stop()}}),n)})))()}}};t.default=o}).call(this,n("543d")["default"])},b7bf:function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("895d");r(n("66fd"));var a=r(n("c46a"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c46a:function(e,t,n){"use strict";n.r(t);var r=n("c823"),a=n("609c");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("467c");var o=n("f0c5"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=u.exports},c823:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement;this._self._c},a=[]}},[["b7bf","common/runtime","common/vendor"]]]);