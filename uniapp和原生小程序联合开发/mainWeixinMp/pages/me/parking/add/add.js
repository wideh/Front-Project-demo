(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/parking/add/add"],{"3f9d":function(e,t,n){"use strict";n.r(t);var a=n("cf70"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},"9b69":function(e,t,n){"use strict";var a=n("a52d"),r=n.n(a);r.a},a52d:function(e,t,n){},bca2:function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("895d");a(n("66fd"));var r=a(n("dde0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},cf70:function(e,t,n){"use strict";(function(e){var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("2eee")),o=a(n("c973")),i={components:{uniIcons:function(){Promise.all([n.e("common/vendor"),n.e("node-modules/@dcloudio/uni-ui/lib/uni-icons/uni-icons")]).then(function(){return resolve(n("1533"))}.bind(null,n)).catch(n.oe)},customFooter:function(){n.e("components/custom-footer/custom-footer").then(function(){return resolve(n("7d39"))}.bind(null,n)).catch(n.oe)}},data:function(){return{parkingSpaceId:"",name:"",phone:"",index:0,timer:60,codeBtnDisabled:!1,submitBtnDisabled:!1,errorText:"",footerData:null}},onLoad:function(){},onShow:function(){var t=e.getStorageSync(this.$config.storageKeys.parkingSpace);t&&t.id&&(this.parkingSpaceId=t.id),this.getFooterData()},methods:{getFooterData:function(){var e=this;return(0,o.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$footerConfig.get();case 2:n=t.sent,e.footerData=n;case 4:case"end":return t.stop()}}),t)})))()},validatePhone:function(){this.phone;return!(this.phone<1e10||this.phone>19999999999)||(e.showToast({title:"手机号不符合要求",duration:2e3,icon:"none"}),!1)},validate:function(){var t=this;return(0,o.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t,a.errorText="",a.parkingSpaceId){n.next=5;break}return e.showToast({title:"请选择停车场",icon:"none"}),n.abrupt("return",!1);case 5:if(a.name){n.next=8;break}return e.showToast({title:"请输入姓名",icon:"none"}),n.abrupt("return",!1);case 8:if(a.validatePhone()){n.next=10;break}return n.abrupt("return",!1);case 10:return n.abrupt("return",!0);case 11:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return(0,o.default)(r.default.mark((function n(){var a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t,a.submitBtnDisabled=!0,n.next=4,a.validate();case 4:if(!n.sent){n.next=9;break}e.showLoading({title:"认证中"}),a.$http.request("/api/v2.0/weChat/parking-places/authenticate",{parkingPlaceId:a.parkingSpaceId,name:a.name,phone:a.phone},{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then((function(t){e.hideLoading(),a.submitBtnDisabled=!1,e.navigateTo({url:"../success/success"})})).catch((function(t){console.log(t),a.submitBtnDisabled=!1,e.hideLoading(),a.errorText=t.message})),n.next=11;break;case 9:a.submitBtnDisabled=!1,e.hideLoading();case 11:case"end":return n.stop()}}),n)})))()}}};t.default=i}).call(this,n("543d")["default"])},dde0:function(e,t,n){"use strict";n.r(t);var a=n("ee14"),r=n("3f9d");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("9b69");var i=n("f0c5"),u=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=u.exports},ee14:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},r=[]}},[["bca2","common/runtime","common/vendor"]]]);