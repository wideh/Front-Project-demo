(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/room/member/member"],{2348:function(e,t,n){},"4aa0":function(e,t,n){"use strict";n.r(t);var o=n("96aa"),i=n.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(u);t["default"]=i.a},"6e26":function(e,t,n){"use strict";var o=n("2348"),i=n.n(o);i.a},"96aa":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("2eee")),u=o(n("c973")),a={components:{uniTag:function(){n.e("node-modules/@dcloudio/uni-ui/lib/uni-tag/uni-tag").then(function(){return resolve(n("f7b5"))}.bind(null,n)).catch(n.oe)},pageEmpty:function(){n.e("components/page-empty/page-empty").then(function(){return resolve(n("1068"))}.bind(null,n)).catch(n.oe)},sudaLoading:function(){n.e("components/suda-loading/suda-loading").then(function(){return resolve(n("09dd"))}.bind(null,n)).catch(n.oe)},customFooter:function(){n.e("components/custom-footer/custom-footer").then(function(){return resolve(n("7d39"))}.bind(null,n)).catch(n.oe)}},data:function(){return{resourceId:"",houseCustomerId:"",isLoading:!0,isShowActionSheet:!1,members:[],footerData:null}},onShow:function(){this.init(),this.getFooterData()},onLoad:function(e){console.log("options: ",e);this.resourceId=e.resourceId,this.houseCustomerId=e.houseCustomerId},onHide:function(){var e=this;setTimeout((function(){e.members=[],e.isLoading=!0}),1e3)},methods:{init:function(){var e=this;e.$http.get("/api/v2.0/wechat/house-members?houseCustomerId=".concat(e.houseCustomerId,"&page=1&pageSize=999")).then((function(t){e.members=t.data,e.isLoading=!1})).catch((function(t){console.log(t),e.isLoading=!1}))},displayPhoto:function(e){return e?this.$tool.image.getHttpUrl(e):"https://pms-statics.oss-cn-shenzhen.aliyuncs.com/wechat-static/photo.png"},operation:function(t,n){var o=this;o.isShowActionSheet||(o.isShowActionSheet=!0,e.showActionSheet({title:"标题",itemList:["编辑成员","移除成员"],success:function(e){0==e.tapIndex?o.editMember("edit",n):o.deleteMember(t,n)},complete:function(e){o.isShowActionSheet=!1}}))},editMember:function(t,n){e.navigateTo({url:"edit/edit?houseMemberId="+n+"&type="+t+"&resourceId="+this.resourceId+"&houseCustomerId="+this.houseCustomerId})},deleteMember:function(t,n){var o=this;e.showModal({title:"移除该用户",content:"您确定要移除该用户信息？",success:function(e){e.confirm&&o.$http.request("/api/v2.0/wechat/house-members/".concat(n),{},{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"DELETE"}).then((function(e){o.members.splice(t,1)})).catch((function(e){console.log(e)}))}})},getFooterData:function(){var e=this;return(0,u.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$footerConfig.get();case 2:n=t.sent,e.footerData=n;case 4:case"end":return t.stop()}}),t)})))()}}};t.default=a}).call(this,n("543d")["default"])},a343:function(e,t,n){"use strict";n.r(t);var o=n("f2af"),i=n("4aa0");for(var u in i)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(u);n("6e26");var a=n("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=c.exports},b129:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("895d");o(n("66fd"));var i=o(n("a343"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},f2af:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var o={sudaLoading:function(){return n.e("components/suda-loading/suda-loading").then(n.bind(null,"09dd"))},pageEmpty:function(){return n.e("components/page-empty/page-empty").then(n.bind(null,"1068"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isLoading?null:e.members.length),o=!e.isLoading&&n>0?e.__map(e.members,(function(t,n){var o=e.__get_orig(t),i=e.displayPhoto(t.faceImageRelativePath);return{$orig:o,m0:i}})):null;e.$mp.data=Object.assign({},{$root:{g0:n,l0:o}})},u=[]}},[["b129","common/runtime","common/vendor"]]]);