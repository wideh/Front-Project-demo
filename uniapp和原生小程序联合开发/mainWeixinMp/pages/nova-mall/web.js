(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/nova-mall/web"],{"0e2b":function(t,e,n){"use strict";n.r(e);var o=n("55e0"),i=n("1afd");for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);var s=n("f0c5"),a=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports},"1afd":function(t,e,n){"use strict";n.r(e);var o=n("39b5"),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},"39b5":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("278c")),c=o(n("7504")),s={data:function(){return{src:c.default.novaMallH5PageUrl,user:null,isInWeb:!1,options:{}}},onLoad:function(e){var n=this;e&&(this.options=e),this.user=t.getStorageSync(this.$config.storageKeys.user);var o=t.getStorageSync("community");if(this.checkTelephoneAndSavaShopId){if(!o&&!this.options.qstr)return t.showToast({title:"请先选择管理区",icon:"none"}),void setTimeout((function(){t.navigateBack()}),1500);if(this.checkIsLogin()&&this.checkBindTelephone()){this.isInWeb=!0;var s=t.getStorageSync(c.default.storageKeys.token),a=t.getStorageSync(c.default.storageKeys.openId);if(this.options.h5Url&&(this.src+="/".concat(this.options.h5Url)),s&&(this.src+="?fromWuye=1&tokenType="+encodeURIComponent(s.token_type)+"&token="+encodeURIComponent(s.access_token)+"&tenantId="+this.$config.tenantId),a&&(this.src+="&openId="+encodeURIComponent(a)),o&&(this.src+="&regionId=".concat(o.id,"&regionName=").concat(o.text)),this.options.qstr){var r=this.options.qstr.split("__");r.forEach((function(t){var e=t.split("_"),o=(0,i.default)(e,2),c=o[0],s=o[1];n.src+="&".concat(c,"=").concat(s)}))}console.log("跳转电商URL：",this.src)}}},onShow:function(){},methods:{checkIsLogin:function(){return!!this.user||(t.showToast({icon:"none",title:"还没登录"}),!1)},checkBindTelephone:function(){if(this.checkIsLogin()){if(this.user.phoneNumber)return!0;t.showModal({title:"需要完善您的个人信息",confirmText:"去完善",success:function(e){e.confirm?t.navigateTo({url:"../login/check/check"}):t.navigateBack()}})}return!1},checkTelephoneAndSavaShopId:function(){if(this.checkBindTelephone()){var e=this;return this.$httpHd.get("/nova-mall-api/p/shopDetail/getSaasShopId").then((function(n){t.setStorageSync(e.$config.storageKeys.shopId,n)})),!0}return!1}}};e.default=s}).call(this,n("543d")["default"])},"55e0":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement,e=(this._self._c,this.isInWeb&&this.checkBindTelephone());this.$mp.data=Object.assign({},{$root:{m0:e}})},i=[]},b627:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("895d");o(n("66fd"));var i=o(n("0e2b"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["b627","common/runtime","common/vendor"]]]);